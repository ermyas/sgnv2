Last login: Tue Nov 30 11:47:32 on ttys003
 ~  master !1  aws elbv2 create-load-balancer --type network --ip-address-type ipv4 --subnets subnet-08a86999648e0896e --name sgnv2-NLB-prod2                   ✅  prod  12:05:10 
{
    "LoadBalancers": [
        {
            "LoadBalancerArn": "arn:aws:elasticloadbalancing:us-west-2:356032637240:loadbalancer/net/sgnv2-NLB-prod2/04e03c111e9198ec",
            "DNSName": "sgnv2-NLB-prod2-04e03c111e9198ec.elb.us-west-2.amazonaws.com",
            "CanonicalHostedZoneId": "Z18D5FSROUN65G",
            "CreatedTime": "2021-11-30T20:05:51.825000+00:00",
            "LoadBalancerName": "sgnv2-NLB-prod2",
            "Scheme": "internet-facing",
            "VpcId": "vpc-04554b46166d7c9b2",
            "State": {
                "Code": "provisioning"
            },
            "Type": "network",
            "AvailabilityZones": [
                {
                    "ZoneName": "us-west-2d",
                    "SubnetId": "subnet-08a86999648e0896e",
                    "LoadBalancerAddresses": []
                }
            ],
            "IpAddressType": "ipv4"
        }
    ]
}
                                                                                                                                                                                         
 ~  master !1  aws elbv2 create-target-group --name sgnv2-TG-prod2 --protocol TCP --port 80 --vpc-id vpc-04554b46166d7c9b2                                      ✅  prod  12:05:52 
{
    "TargetGroups": [
        {
            "TargetGroupArn": "arn:aws:elasticloadbalancing:us-west-2:356032637240:targetgroup/sgnv2-TG-prod2/5784df5ad20b4c99",
            "TargetGroupName": "sgnv2-TG-prod2",
            "Protocol": "TCP",
            "Port": 80,
            "VpcId": "vpc-04554b46166d7c9b2",
            "HealthCheckProtocol": "TCP",
            "HealthCheckPort": "traffic-port",
            "HealthCheckEnabled": true,
            "HealthCheckIntervalSeconds": 30,
            "HealthCheckTimeoutSeconds": 10,
            "HealthyThresholdCount": 3,
            "UnhealthyThresholdCount": 3,
            "TargetType": "instance"
        }
    ]
}
                                                                                                                                                                                         
 ~  master !1  aws elbv2 register-targets --target-group-arn arn:aws:elasticloadbalancing:us-west-2:356032637240:targetgroup/sgnv2-TG-prod2/5784df5ad20b4c99 --targets Id=i-0044cd9c98709a55a
                                                                                                                                                                                         
 ~  master !1  aws elbv2 create-listener \                                                                                                                      ✅  prod  12:07:07 
    --load-balancer-arn arn:aws:elasticloadbalancing:us-west-2:356032637240:loadbalancer/net/sgnv2-NLB-prod2/04e03c111e9198ec \
    --protocol TLS --port 443 --certificates CertificateArn=arn:aws:acm:us-west-2:356032637240:certificate/325581e7-c867-41c4-882d-008e1090b7cb \
    --ssl-policy ELBSecurityPolicy-2016-08 \
    --default-actions Type=forward,TargetGroupArn=arn:aws:elasticloadbalancing:us-west-2:356032637240:targetgroup/sgnv2-TG-prod2/5784df5ad20b4c99
{
    "Listeners": [
        {
            "ListenerArn": "arn:aws:elasticloadbalancing:us-west-2:356032637240:listener/net/sgnv2-NLB-prod2/04e03c111e9198ec/590ed19360571b76",
            "LoadBalancerArn": "arn:aws:elasticloadbalancing:us-west-2:356032637240:loadbalancer/net/sgnv2-NLB-prod2/04e03c111e9198ec",
            "Port": 443,
            "Protocol": "TLS",
            "Certificates": [
                {
                    "CertificateArn": "arn:aws:acm:us-west-2:356032637240:certificate/325581e7-c867-41c4-882d-008e1090b7cb"
                }
            ],
            "SslPolicy": "ELBSecurityPolicy-2016-08",
            "DefaultActions": [
                {
                    "Type": "forward",
                    "TargetGroupArn": "arn:aws:elasticloadbalancing:us-west-2:356032637240:targetgroup/sgnv2-TG-prod2/5784df5ad20b4c99",
                    "ForwardConfig": {
                        "TargetGroups": [
                            {
                                "TargetGroupArn": "arn:aws:elasticloadbalancing:us-west-2:356032637240:targetgroup/sgnv2-TG-prod2/5784df5ad20b4c99"
                            }
                        ]
                    }
                }
            ]
        }
    ]
}
                                                                                                                                                                                         
 ~  master !1                                                                                                                                                   ✅  prod  12:08:06 
